# ğŸ”„ Complete Application Flow

## ğŸ“‹ Table of Contents
1. [User Onboarding](#user-onboarding)
2. [Lead Sources - Multiple Ways to Get Leads](#lead-sources---multiple-ways-to-get-leads)
   - [Manual Creation](#manual-creation)
   - [CRM Integration](#crm-integration)
   - [Data Upload (Excel/Google Sheets)](#data-upload-excelgoogle-sheets)
   - [Database (Existing Leads)](#database-existing-leads)
3. [Creating a Lead](#creating-a-lead)
4. [Automation System](#automation-system)
5. [Messages & Conversations](#messages--conversations)
6. [Lead Management](#lead-management)
7. [AI Integration](#ai-integration)

---

## 1. ğŸ‘¤ User Onboarding

### Flow:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. User Visits App                â”‚
â”‚     â†’ Landing/Login Page            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. User Registers/Logs In         â”‚
â”‚     â†’ Enter email/password          â”‚
â”‚     â†’ Backend creates user account  â”‚
â”‚     â†’ JWT token generated           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Token Stored in localStorage    â”‚
â”‚     â†’ Used for all API calls        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. User Redirected to Dashboard   â”‚
â”‚     â†’ Default automations created   â”‚
â”‚     â†’ Ready to use!                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Default Automations Created:
- âœ… **Welcome New Leads** - Sends email when lead is created
- âœ… **Follow-up After 3 Days** - Reminds to contact lead
- âœ… **Follow-up After 7 Days** - Second reminder
- âœ… **Booking Reminder** - Reminds before booking

---

## 2. ğŸ“ Lead Sources - Multiple Ways to Get Leads

### Overview:
Leads can come from **4 different sources**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LEAD SOURCES                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Manual Creation                     â”‚
â”‚     â†’ User creates lead manually        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. CSV File Upload                     â”‚
â”‚     â†’ Upload Excel/CSV file             â”‚
â”‚     â†’ Bulk import leads                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. Data Upload                         â”‚
â”‚     â†’ Excel file (.xlsx)                â”‚
â”‚     â†’ Google Sheets                     â”‚
â”‚     â†’ CSV file                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. Database (Existing)                 â”‚
â”‚     â†’ Already in system                â”‚
â”‚     â†’ Loaded from database              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Manual Creation

**Flow:**
```
User â†’ Leads Tab â†’ "Create Lead" â†’ Fill Form â†’ Save
```

**Details:** See [Creating a Lead](#creating-a-lead) section below.

---

### CSV File Upload

#### Complete CSV Upload Flow:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 1: GENERATE CSV                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Run command:                   â”‚
        â”‚  python manage.py               â”‚
        â”‚    generate_sample_csv           â”‚
        â”‚    --count 50                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  CSV file generated:            â”‚
        â”‚  - sample_leads.csv             â”‚
        â”‚  - Contains dummy lead data     â”‚
        â”‚  - Ready to upload              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 2: UPLOAD FILE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User goes to Leads Tab         â”‚
        â”‚  â†’ Clicks "Upload Leads" button â”‚
        â”‚  â†’ Selects CSV file             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend: FileReader           â”‚
        â”‚  â†’ Reads file content           â”‚
        â”‚  â†’ Parses CSV                   â”‚
        â”‚  â†’ Shows preview (first 10 rows)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User reviews preview:          â”‚
        â”‚  - Shows first 10 rows          â”‚
        â”‚  - Shows column mapping         â”‚
        â”‚  - Shows validation errors      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User clicks "Import Leads"     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend calls:                â”‚
        â”‚  api.uploadLeadsCSV(file)       â”‚
        â”‚  â†’ POST /api/leads/upload        â”‚
        â”‚  â†’ Sends file as FormData       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 3: BACKEND PROCESSING               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Backend receives file:         â”‚
        â”‚  â†’ Validates file type (.csv)  â”‚
        â”‚  â†’ Reads CSV content            â”‚
        â”‚  â†’ Parses rows                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  For each row:                  â”‚
        â”‚  - Validates required fields    â”‚
        â”‚    (Name, Email)                â”‚
        â”‚  - Checks for duplicates        â”‚
        â”‚    (by email)                   â”‚
        â”‚  - Maps columns (flexible)      â”‚
        â”‚  - Validates data types         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Create/Update Leads:           â”‚
        â”‚  If email exists:               â”‚
        â”‚    â†’ Update existing lead       â”‚
        â”‚  If email is new:               â”‚
        â”‚    â†’ Create new lead            â”‚
        â”‚    â†’ Set source = "Upload"      â”‚
        â”‚    â†’ Trigger automation         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Automation triggers:           â”‚
        â”‚  - For each new lead            â”‚
        â”‚  - Sends welcome email          â”‚
        â”‚  - Creates message              â”‚
        â”‚  - Creates conversation         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Returns import statistics:     â”‚
        â”‚  {                               â”‚
        â”‚    success: true,                â”‚
        â”‚    stats: {                      â”‚
        â”‚      total: 50,                  â”‚
        â”‚      created: 45,               â”‚
        â”‚      updated: 3,                 â”‚
        â”‚      skipped: 2                  â”‚
        â”‚    },                            â”‚
        â”‚    errors: []                    â”‚
        â”‚  }                               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend displays results:     â”‚
        â”‚  - Shows success message         â”‚
        â”‚  - Shows statistics              â”‚
        â”‚  - Refreshes leads list          â”‚
        â”‚  - Shows errors (if any)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  âœ… RESULT:                      â”‚
        â”‚  - New leads appear in Leads Tabâ”‚
        â”‚  - Welcome emails sent (auto)    â”‚
        â”‚  - Conversations created         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CSV Data Mapping:

| CSV Column | System Lead Field | Required |
|------------|-------------------|----------|
| `Name` | `name` | âœ… Yes |
| `Email` | `email` | âœ… Yes |
| `Phone` | `phone` | âŒ No |
| `Source` | `source` | âŒ No |
| `Status` | `status` | âŒ No |
| `Service Type` | `service_type` | âŒ No |
| `Notes` | `notes` | âŒ No |
| `Price` | `price` | âŒ No |
| `Potential Value` | `potential_value` | âŒ No |
| `Description of Enquiry` | `description_of_enquiry` | âŒ No |

#### Features:
- âœ… **Flexible column names** - Handles variations (Name, name, Full Name, etc.)
- âœ… **Automatic deduplication** - By email
- âœ… **Data validation** - Validates all fields
- âœ… **Error reporting** - Shows which rows failed
- âœ… **Preview before import** - See data first
- âœ… **Automation integration** - Triggers for new leads

---

### Data Upload (Excel/Google Sheets)

#### Complete Upload Flow:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 1: PREPARE DATA                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User prepares file:            â”‚
        â”‚  - Excel (.xlsx)                 â”‚
        â”‚  - Google Sheets (export CSV)   â”‚
        â”‚  - CSV file                      â”‚
        â”‚                                  â”‚
        â”‚  Required columns:               â”‚
        â”‚  - Name (required)               â”‚
        â”‚  - Email (required)              â”‚
        â”‚  - Phone (optional)              â”‚
        â”‚  - Source (optional)             â”‚
        â”‚  - Notes (optional)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 2: UPLOAD FILE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User goes to Leads Tab         â”‚
        â”‚  â†’ Clicks "Upload Leads" button â”‚
        â”‚  â†’ Selects file                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend: FileReader           â”‚
        â”‚  â†’ Reads file content           â”‚
        â”‚  â†’ Parses Excel/CSV             â”‚
        â”‚  â†’ Validates columns            â”‚
        â”‚  â†’ Shows preview                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User reviews preview:          â”‚
        â”‚  - Shows first 10 rows          â”‚
        â”‚  - Shows column mapping         â”‚
        â”‚  - Shows validation errors      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User clicks "Import Leads"     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend calls:                â”‚
        â”‚  api.uploadLeads(fileData)      â”‚
        â”‚  â†’ POST /api/leads/upload        â”‚
        â”‚  â†’ Sends parsed data             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 3: BACKEND PROCESSING               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Backend receives data:         â”‚
        â”‚  â†’ Validates each row            â”‚
        â”‚  â†’ Checks for duplicates (email) â”‚
        â”‚  â†’ Creates leads in batch        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  For each valid row:            â”‚
        â”‚  - Create Lead object            â”‚
        â”‚  - Set source = "Upload"         â”‚
        â”‚  - Save to database              â”‚
        â”‚  - Trigger automation (if new)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Returns import statistics:     â”‚
        â”‚  {                               â”‚
        â”‚    total: 50,                    â”‚
        â”‚    created: 45,                  â”‚
        â”‚    updated: 3,                    â”‚
        â”‚    skipped: 2,                   â”‚
        â”‚    errors: []                    â”‚
        â”‚  }                               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend displays results:     â”‚
        â”‚  - Shows success message         â”‚
        â”‚  - Shows statistics              â”‚
        â”‚  - Refreshes leads list          â”‚
        â”‚  - Shows errors (if any)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  âœ… RESULT:                      â”‚
        â”‚  - New leads appear in Leads Tabâ”‚
        â”‚  - Welcome emails sent (auto)    â”‚
        â”‚  - Conversations created        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Supported File Formats:

| Format | Extension | How to Use |
|--------|-----------|------------|
| **Excel** | `.xlsx` | Upload directly |
| **CSV** | `.csv` | Upload directly |
| **Google Sheets** | - | Export as CSV, then upload |

#### File Format Requirements:

**Required Columns:**
- `Name` (or `name`, `Full Name`, etc.)
- `Email` (or `email`, `Email Address`, etc.)

**Optional Columns:**
- `Phone` (or `phone`, `Phone Number`, etc.)
- `Source` (or `source`, `Lead Source`, etc.)
- `Notes` (or `notes`, `Comments`, etc.)
- `Status` (or `status`)
- `Service Type` (or `service_type`)

**Example Excel/CSV:**
```csv
Name,Email,Phone,Source,Notes
John Doe,john@example.com,123-456-7890,Website,Interested in coaching
Jane Smith,jane@example.com,098-765-4321,Referral,Follow up next week
```

#### Features:
- âœ… **Multiple formats** - Excel, CSV, Google Sheets
- âœ… **Auto-detection** - Detects column names automatically
- âœ… **Validation** - Checks for required fields
- âœ… **Deduplication** - Skips duplicates by email
- âœ… **Batch import** - Processes multiple leads at once
- âœ… **Error reporting** - Shows which rows failed
- âœ… **Preview** - Shows data before importing

---

### Database (Existing Leads)

#### Flow:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User opens Leads Tab               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend calls:                    â”‚
â”‚  api.getLeads()                     â”‚
â”‚  â†’ GET /api/leads/                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend queries database:          â”‚
â”‚  Lead.objects.filter(user=user)    â”‚
â”‚  â†’ Returns all leads for user       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend receives leads:           â”‚
â”‚  - Normalizes data                  â”‚
â”‚  - Saves to localStorage (cache)    â”‚
â”‚  - Displays in Leads Tab            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Lead Sources in Database:

Leads are stored with a `source` field indicating origin:

| Source | Description |
|-------|-------------|
| `"Website"` | Manually created |
| `"Upload"` | Imported from CSV file |
| `"Referral"` | From referral |
| `"Email Campaign"` | From email campaign |
| `"Social Media"` | From social media |
| Custom | User-defined source |

---

## 3. ğŸ“ Creating a Lead (Manual)

### Complete Flow:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 1: USER ACTION                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User goes to Leads Tab         â”‚
        â”‚  Clicks "Create Lead" button    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Modal opens with form:         â”‚
        â”‚  - Name (required)              â”‚
        â”‚  - Email (required)             â”‚
        â”‚  - Phone (optional)             â”‚
        â”‚  - Source (dropdown)           â”‚
        â”‚  - Notes (optional)             â”‚
        â”‚  - Send follow-up email (check)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  User fills form and clicks     â”‚
        â”‚  "Create Lead"                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 2: FRONTEND                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend calls:                â”‚
        â”‚  api.createLead({...})           â”‚
        â”‚  â†’ POST /api/leads/              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Lead added to state            â”‚
        â”‚  immediately (optimistic)       â”‚
        â”‚  â†’ Shows in Leads Tab right awayâ”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Lead saved to localStorage     â”‚
        â”‚  â†’ Persists on refresh          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 3: BACKEND                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Backend receives request        â”‚
        â”‚  â†’ LeadListCreateView            â”‚
        â”‚  â†’ Validates data                â”‚
        â”‚  â†’ Saves to database             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Lead saved to database:         â”‚
        â”‚  - id: 123                       â”‚
        â”‚  - name: "John Doe"              â”‚
        â”‚  - email: "john@example.com"    â”‚
        â”‚  - user: current_user           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Django signal fires:            â”‚
        â”‚  post_save(Lead)                 â”‚
        â”‚  â†’ trigger_lead_automations()   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 4: AUTOMATION                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Signal calls:                  â”‚
        â”‚  trigger_automations('new_lead')â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Finds matching automations:    â”‚
        â”‚  - trigger = 'new_lead'         â”‚
        â”‚  - enabled = True               â”‚
        â”‚  - user = current_user          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  AutomationExecutor executes:   â”‚
        â”‚  - Checks delay (0h, 0d = now)  â”‚
        â”‚  - Generates message (AI/template)â”‚
        â”‚  - Creates Message record       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Message created in database:   â”‚
        â”‚  - id: 456                      â”‚
        â”‚  - lead_id: 123                 â”‚
        â”‚  - channel: 'email'              â”‚
        â”‚  - direction: 'outbound'        â”‚
        â”‚  - content: "Welcome email..."  â”‚
        â”‚  - status: 'pending'            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  MessageSender sends email:     â”‚
        â”‚  - Uses SMTP (Gmail)            â”‚
        â”‚  - Sends to lead's email        â”‚
        â”‚  - Updates status to 'sent'     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 5: FRONTEND UPDATE                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Frontend refreshes (auto):     â”‚
        â”‚  - Conversations tab auto-refreshâ”‚
        â”‚  - Fetches messages from API    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Messages grouped by lead:      â”‚
        â”‚  - Creates conversation object â”‚
        â”‚  - Shows in Conversations Tab   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  âœ… RESULT:                      â”‚
        â”‚  - Lead appears in Leads Tab    â”‚
        â”‚  - Conversation appears in      â”‚
        â”‚    Conversations Tab            â”‚
        â”‚  - Email sent to lead           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ğŸ¤– Automation System

### How Automations Work:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TRIGGER EVENT                      â”‚
â”‚  (e.g., new lead created)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Django Signal Fires                 â”‚
â”‚  â†’ post_save(Lead)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Find Matching Automations           â”‚
â”‚  - trigger = 'new_lead'              â”‚
â”‚  - enabled = True                   â”‚
â”‚  - user = current_user               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Check Conditions                   â”‚
â”‚  - Delay (hours/days)               â”‚
â”‚  - User settings                    â”‚
â”‚  - Channel enabled?                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Execute Automation                  â”‚
â”‚  - Generate message (AI/template)    â”‚
â”‚  - Create Message record            â”‚
â”‚  - Send via channel (email/SMS/etc)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Log Activity                       â”‚
â”‚  - Update automation stats          â”‚
â”‚  - Create AgentActivity record      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Automation Types:

| Type | Trigger | What It Does |
|------|---------|--------------|
| **Lead Follow-up** | `new_lead` | Sends welcome email when lead is created |
| **Lead Follow-up** | `no_contact_days` | Reminds to contact lead after X days |
| **Booking Reminder** | `booking_reminder_hours` | Reminds before booking time |
| **Confirmation** | `booking_created` | Sends booking confirmation |
| **Post-Session** | `session_completed` | Follows up after session |

---

## 5. ğŸ’¬ Messages & Conversations

### Message Creation Flow:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MESSAGE CREATED                    â”‚
â”‚  (by automation or manual)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Saved to Database:                  â”‚
â”‚  messages_message table              â”‚
â”‚  - id, lead_id, channel, direction   â”‚
â”‚  - content, status, timestamp        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Fetches Messages           â”‚
â”‚  â†’ GET /api/messages/                â”‚
â”‚  â†’ Returns all messages for user    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Groups Messages            â”‚
â”‚  - By lead_id + channel              â”‚
â”‚  - Creates conversation objects     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Conversations Displayed             â”‚
â”‚  - Shows in Conversations Tab        â”‚
â”‚  - Shows last message preview        â”‚
â”‚  - Shows unread count                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Conversation Structure:

```typescript
Conversation {
  lead: {
    id: "123",
    name: "John Doe",
    email: "john@example.com"
  },
  messages: [
    { id: 1, content: "Welcome...", direction: "outbound" },
    { id: 2, content: "Thank you!", direction: "inbound" }
  ],
  lastMessage: { id: 2, ... },
  channel: "email",
  unreadCount: 1
}
```

---

## 6. ğŸ“Š Lead Management

### Lead Lifecycle:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NEW LEAD                           â”‚
â”‚  - Status: "new"                    â”‚
â”‚  - Created in Leads Tab             â”‚
â”‚  - Welcome email sent (automation)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QUALIFIED                          â”‚
â”‚  - Status: "qualified"             â”‚
â”‚  - User updates status              â”‚
â”‚  - Can create booking               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONVERTED                          â”‚
â”‚  - Status: "converted"              â”‚
â”‚  - Lead became customer             â”‚
â”‚  - Can track bookings               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Lead Features:

- âœ… **Create Lead** - Add new lead manually
- âœ… **Edit Lead** - Update lead information
- âœ… **View Lead Details** - See full lead info
- âœ… **Filter Leads** - By status, source, etc.
- âœ… **Search Leads** - By name or email
- âœ… **Sync CRM** - Import leads from CRM

---

## 7. ğŸ¤– AI Integration

### AI Features:

#### 1. **AI-Generated Messages**
```
User clicks "AI Generate" 
  â†’ Frontend calls api.generateAIResponse()
  â†’ Backend uses Gemini AI
  â†’ Returns generated message
  â†’ User can edit and send
```

#### 2. **AI Suggestions in Conversations**
```
User in Conversations Tab
  â†’ Clicks "AI Suggest"
  â†’ AI analyzes conversation history
  â†’ Suggests response
  â†’ User can use or regenerate
```

#### 3. **AI Follow-up Emails**
```
User creates lead with follow-up
  â†’ Clicks "AI Generate"
  â†’ AI creates personalized email
  â†’ User can edit
  â†’ Sent when lead is created
```

---

## 8. ğŸ”„ Complete User Journey

### Example: New User to First Conversation

```
1. USER REGISTERS
   â”œâ”€ Creates account
   â”œâ”€ Logs in
   â””â”€ Default automations created

2. USER CREATES LEAD
   â”œâ”€ Fills form: "John Doe" (john@example.com)
   â”œâ”€ Clicks "Create Lead"
   â””â”€ Lead saved to database

3. AUTOMATION TRIGGERS
   â”œâ”€ Signal fires: post_save(Lead)
   â”œâ”€ Finds "Welcome New Leads" automation
   â”œâ”€ Generates welcome email (AI)
   â”œâ”€ Creates Message record
   â””â”€ Sends email to john@example.com

4. CONVERSATION APPEARS
   â”œâ”€ Frontend auto-refreshes (5 seconds)
   â”œâ”€ Fetches messages from API
   â”œâ”€ Groups by lead + channel
   â””â”€ Shows in Conversations Tab

5. USER SEES CONVERSATION
   â”œâ”€ Clicks on conversation
   â”œâ”€ Sees welcome email sent
   â”œâ”€ Can reply using AI suggestions
   â””â”€ Can send manual messages
```

---

## 9. ğŸ“± All Tabs & What They Show

### **1. ğŸ“Š Dashboard Tab**

**Purpose:** Overview of everything happening in your business

**What You See:**
- ğŸ“ˆ **Key Statistics Cards:**
  - Total Leads (with % change)
  - Messages Sent (with % change)
  - Active Automations (count)
  - Conversion Rate (percentage)

- ğŸ‘¥ **Recent Leads Section:**
  - Last 5 leads added
  - Shows: Name, Email, Status
  - Quick link to view all leads
  - Status badges (new, qualified, converted, etc.)

- âš¡ **Active Automations Section:**
  - List of enabled automations
  - Shows: Automation name, times triggered
  - Quick link to manage automations
  - Green dot indicator (active)

- ğŸ“‹ **Recent Activity Feed:**
  - Last 10 activities
  - Shows: Description, timestamp
  - All actions logged (messages sent, automations ran, etc.)

- ğŸ¯ **Quick Action Buttons:**
  - Go to Bookings
  - Go to Leads
  - Go to Settings

**When to Use:**
- Check daily overview
- See what's happening at a glance
- Monitor key metrics
- Track recent activity

---

### **2. ğŸ‘¥ Leads Tab**

**Purpose:** Manage all your potential customers (leads)

**What You See:**
- ğŸ“Š **Statistics Cards:**
  - Total Leads count
  - Qualified leads count
  - Converted leads count

- ğŸ” **Search & Filters:**
  - Search by name or email
  - Filter by status (All, New, Qualified, Converted, etc.)
  - Filter by service type
  - Quick filters

- ğŸ“‹ **Leads Table:**
  - List of all leads
  - Columns: Name, Email, Phone, Status, Source, Date Added
  - Click lead to view details
  - Status badges (color-coded)
  - Source badges

- â• **Actions:**
  - "+ Create Lead" button
  - "Sync CRM" button (sync from SimplyBook.me)
  - Edit/Delete lead options
  - View lead details

- ğŸ“ **Lead Details (when clicked):**
  - Full lead information
  - All fields (name, email, phone, notes, etc.)
  - Service type, price, potential value
  - Edit lead information
  - View related messages
  - View related bookings

**When to Use:**
- Add new leads manually
- View all your leads
- Edit lead information
- Sync leads from CRM
- Search for specific leads

---

### **3. ğŸ’¬ Conversations Tab**

**Purpose:** View and manage all message conversations with leads

**What You See:**
- ğŸ“‹ **Conversations List (Left Side):**
  - All conversations grouped by lead + channel
  - Shows: Lead name, last message preview, timestamp
  - Channel indicator (Email, SMS, WhatsApp, etc.)
  - Unread count badge
  - Search conversations
  - Filter by status (Ongoing, Finished, Archived)
  - Filter by channel

- ğŸ’¬ **Conversation View (Right Side):**
  - Full conversation thread
  - All messages in chronological order
  - Message direction (inbound/outbound)
  - Message timestamp
  - Message status (sent, delivered, read)

- âœï¸ **Reply Section:**
  - Text area to type message
  - "AI Suggest" button (get AI-generated response)
  - "Send" button
  - Channel selector (Email, SMS, WhatsApp, etc.)

- ğŸ¤– **AI Features:**
  - AI suggestion display
  - "Use Suggestion" button
  - "Regenerate" button
  - AI-generated responses

- ğŸ”„ **Auto-Refresh:**
  - Automatically refreshes every 5 seconds
  - Catches new messages from automation
  - Updates in real-time

**When to Use:**
- View all conversations
- Reply to messages
- Get AI suggestions for responses
- Track communication history
- See which leads have been contacted

---

### **4. ğŸ“… Bookings Tab**

**Purpose:** Manage appointments and bookings

**What You See:**
- ğŸ“‹ **Bookings List:**
  - All bookings in table format
  - Columns: Title, Lead Name, Start Time, End Time, Status, Location
  - Status badges (confirmed, pending, cancelled, completed)
  - Filter by status (All, Confirmed, Pending, Cancelled, Completed)

- ğŸ“Š **Booking Details (when clicked):**
  - Full booking information
  - Lead details (name, email, phone)
  - Booking time and duration
  - Location/Property
  - Booking type
  - Revenue (if applicable)
  - Description/Notes

- âœï¸ **Actions:**
  - Create new booking
  - Edit booking
  - Reschedule booking
  - Cancel booking
  - Update status
  - Check availability

- ğŸ”„ **Features:**
  - Link bookings to leads
  - View booking history
  - Calendar integration (future)
  - Reminder automations

**When to Use:**
- View all appointments
- Create new bookings
- Reschedule appointments
- Track booking status
- Link bookings to leads

---

### **5. ğŸ“ˆ Insights Tab (Business Intelligence)**

**Purpose:** Analytics and insights about your business performance

**What You See:**
- ğŸ“Š **Summary Statistics:**
  - Total Leads
  - Converted Leads
  - Qualified Leads
  - New Leads
  - Conversion Rate
  - Total Activities
  - Active Opportunities
  - Unresolved Insights

- ğŸ¯ **AI-Generated Insights:**
  - List of insights with priority (High, Medium, Low)
  - Insight types:
    - Missed opportunities
    - Upsell potential
    - Follow-up needed
    - Conversion opportunities
  - Each insight shows:
    - Title and description
    - Related lead
    - Priority level
    - Action items
    - Resolve status

- ğŸ’° **Opportunities:**
  - Potential revenue opportunities
  - Confidence score
  - Estimated value
  - Related lead information
  - Status tracking

- ğŸ“Š **Charts & Graphs:**
  - Activity breakdown (by type)
  - Lead status distribution (pie chart)
  - Insights by type
  - Revenue trends (future)
  - Conversion funnel (future)

- â° **Time Filter:**
  - Filter by days (7, 30, 90, All)
  - See trends over time

**When to Use:**
- Review business performance
- Identify opportunities
- See what needs attention
- Track conversion rates
- Make data-driven decisions

---

### **6. ğŸ”— Integrations Tab**

**Purpose:** Connect and manage external services

**What You See:**
- ğŸ”Œ **Integration Cards:**
  - Each integration shows:
    - Name and icon
    - Provider (e.g., SimplyBook.me, Twilio, etc.)
    - Connection status (Connected/Not Connected)
    - Last synced time
    - Status badge (Active/Inactive/Error)

- ğŸ“‹ **Available Integrations:**
  - **CRM System** (SimplyBook.me)
    - Connect/disconnect
    - Test connection
    - Sync status
    - Last synced timestamp

  - **Email** (SMTP)
    - Enable/disable
    - Provider info
    - Connection status

  - **SMS** (Twilio)
    - Enable/disable
    - Provider info
    - Connection status

  - **WhatsApp** (Twilio)
    - Enable/disable
    - Provider info
    - Connection status

  - **Facebook Messenger**
    - Enable/disable
    - Connection status

  - **Instagram DM**
    - Enable/disable
    - Connection status

  - **Calendar** (Google, Outlook)
    - Enable/disable
    - Connection status

- âš™ï¸ **Actions:**
  - Connect/Disconnect integrations
  - Test connections
  - Configure settings
  - View sync status

**When to Use:**
- Connect your CRM
- Set up communication channels
- Test integrations
- Check connection status
- Manage external services

---

### **7. ğŸ“œ Audit History Tab**

**Purpose:** Track all activities and changes in the system

**What You See:**
- ğŸ“‹ **Activity Log:**
  - Chronological list of all activities
  - Each activity shows:
    - Type (message_sent, automation_ran, etc.)
    - Description
    - Channel (if applicable)
    - Lead (if applicable)
    - Timestamp
    - Details (JSON)

- ğŸ” **Filters:**
  - Filter by date range (From/To)
  - Filter by channel (Email, SMS, WhatsApp, etc.)
  - Search by keyword
  - Filter by activity type

- ğŸ“Š **Activity Types:**
  - `message_sent` - Message was sent
  - `message_replied` - Auto-reply sent
  - `followup_triggered` - Follow-up automation ran
  - `automation_ran` - Automation executed
  - `crm_updated` - CRM record updated
  - `lead_created` - New lead added
  - `lead_updated` - Lead information changed
  - `booking_created` - New booking created

- ğŸ“¥ **Export:**
  - Download activity log
  - Export to CSV/Excel
  - Filter before export

**When to Use:**
- Track all system activities
- Debug issues
- Audit trail
- See what automations ran
- Review message history
- Compliance and reporting

---

### **8. âš™ï¸ Settings Tab**

**Purpose:** Configure app settings and preferences

**What You See:**
- ğŸ‘¤ **User Settings:**
  - Profile information
  - Email preferences
  - Notification settings

- ğŸ¤– **Automation Settings:**
  - Toggle automations on/off:
    - Lead Follow-up Enabled
    - Booking Reminder Enabled
    - Confirmation Enabled
    - Post-Session Enabled
  - Configure automation delays
  - View automation status

- ğŸ“§ **Channel Settings:**
  - Enable/disable channels:
    - Email
    - SMS
    - WhatsApp
    - Facebook
    - Instagram
  - Configure channel providers
  - Test channel connections

- ğŸ”— **CRM Integration:**
  - Connect/disconnect CRM
  - Enter API key
  - Select provider (SimplyBook.me)
  - Test connection
  - Sync now button
  - Last synced timestamp
  - Sync statistics

- ğŸ“§ **Email Configuration:**
  - SMTP settings
  - Email provider
  - Test email sending

- ğŸ”” **Notification Preferences:**
  - Email notifications
  - In-app notifications
  - Notification types

**When to Use:**
- Configure automations
- Connect external services
- Set up email/SMS
- Manage CRM connection
- Adjust preferences
- Test connections

---

### **9. ğŸ’¬ Chat Tab (AI Assistant)**

**Purpose:** Interactive AI chat for generating messages

**What You See:**
- ğŸ‘¥ **Lead Selector (Left Side):**
  - List of all leads
  - Select a lead to chat about
  - Lead information displayed

- ğŸ’¬ **Chat Interface (Center):**
  - Chat messages (you and AI)
  - AI responses
  - Message history
  - Loading indicators

- âœï¸ **Input Area:**
  - Text input for questions
  - Send button
  - AI generates responses

- ğŸ“¤ **Send Options:**
  - Send as email
  - Send as SMS
  - Send as WhatsApp
  - Preview before sending

**When to Use:**
- Get AI help writing messages
- Generate email content
- Get suggestions
- Test AI responses
- Create personalized messages

---

### **10. ğŸš€ Onboarding Tab** (First-time users)

**Purpose:** Guide new users through setup

**What You See:**
- ğŸ“‹ **Step-by-Step Wizard:**
  1. Welcome - Introduction
  2. CRM Connection - Connect SimplyBook.me
  3. Booking Setup - Configure bookings
  4. Channels Setup - Set up Email/SMS/etc.
  5. Automations Setup - Configure automations
  6. Complete - You're done!

- âœ… **Progress Indicator:**
  - Shows current step
  - Shows completed steps
  - Shows remaining steps

- ğŸ”§ **Configuration Forms:**
  - Each step has a form
  - Test connections
  - Save progress
  - Skip optional steps

**When to Use:**
- First time using the app
- Complete setup
- Configure integrations
- Set up automations

---

## ğŸ“Š Tab Comparison

| Tab | Purpose | Key Features | When to Use |
|-----|---------|--------------|-------------|
| **Dashboard** | Overview | Stats, recent activity, quick actions | Daily check-in |
| **Leads** | Manage leads | Create, edit, search, filter, sync CRM | Add/manage customers |
| **Conversations** | Messages | View threads, reply, AI suggestions | Communicate with leads |
| **Bookings** | Appointments | Create, reschedule, track bookings | Manage schedule |
| **Insights** | Analytics | Performance metrics, opportunities | Review business |
| **Integrations** | External services | Connect CRM, channels, test connections | Set up integrations |
| **Audit** | Activity log | Track all actions, filter, export | Debug, compliance |
| **Settings** | Configuration | Automations, channels, CRM, preferences | Configure app |
| **Chat** | AI assistant | Generate messages, get suggestions | Get AI help |
| **Onboarding** | Setup wizard | Step-by-step configuration | First-time setup |

---

## ğŸ¯ Navigation Flow

```
Login/Register
    â†“
Dashboard (Overview)
    â†“
    â”œâ”€â†’ Leads (Manage customers)
    â”‚   â””â”€â†’ Lead Details
    â”‚
    â”œâ”€â†’ Conversations (Messages)
    â”‚   â””â”€â†’ Conversation Thread
    â”‚
    â”œâ”€â†’ Bookings (Appointments)
    â”‚   â””â”€â†’ Booking Details
    â”‚
    â”œâ”€â†’ Insights (Analytics)
    â”‚
    â”œâ”€â†’ Integrations (Connect services)
    â”‚
    â”œâ”€â†’ Audit (Activity log)
    â”‚
    â”œâ”€â†’ Settings (Configure)
    â”‚
    â””â”€â†’ Chat (AI Assistant)
```

---

## 10. ğŸ” Data Flow

### **Authentication:**
```
User Login
  â†’ POST /api/auth/login
  â†’ Backend validates
  â†’ Returns JWT token
  â†’ Stored in localStorage
  â†’ Used for all API calls
```

### **Data Persistence:**
```
Leads:
  - Saved to database (permanent)
  - Cached in localStorage (temporary)
  - Loaded on page refresh

Messages:
  - Saved to database (permanent)
  - Fetched on Conversations page load
  - Auto-refresh every 5 seconds
```

---

## 11. ğŸ¯ Key Concepts

### **Leads vs Conversations:**
- **Leads Tab** = All leads (with or without messages)
- **Conversations Tab** = Only leads with messages

### **Automation vs Manual:**
- **Automation** = Automatic (runs when trigger fires)
- **Manual** = User-initiated (you click send)

### **Messages vs Conversations:**
- **Message** = Single communication (email/SMS)
- **Conversation** = Group of messages (thread)

---

## âœ… Summary

### Lead Sources:
1. **Manual Creation** â†’ User creates lead manually
2. **CRM Integration** â†’ Sync from SimplyBook.me (two-way)
3. **Data Upload** â†’ Import from Excel/CSV/Google Sheets
4. **Database** â†’ Load existing leads

### Complete Flow:
1. **Lead created** (from any source) â†’ Saved to database
2. **Automation triggers** â†’ Creates message â†’ Sends email
3. **Frontend fetches** â†’ Groups messages â†’ Shows conversation
4. **User sees conversation** â†’ Can reply â†’ AI helps

**The app automates lead follow-up from multiple sources and helps you manage conversations efficiently!** ğŸš€

---

## ğŸ“Š Lead Source Comparison

| Source | Method | Speed | Automation | Best For |
|--------|--------|-------|------------|----------|
| **Manual** | Form | Fast | âœ… Yes | Single leads, quick entry |
| **CRM Sync** | API | Medium | âœ… Yes | Existing CRM users, bulk import |
| **File Upload** | File | Fast | âœ… Yes | Large lists, migration |
| **Database** | Query | Instant | âœ… Yes | Existing leads, viewing |

---

## ğŸ”„ Lead Lifecycle (All Sources)

```
LEAD CREATED
  (Manual/CRM/Upload/Database)
        â†“
SAVED TO DATABASE
  (with source tracking)
        â†“
AUTOMATION TRIGGERS
  (Welcome email sent)
        â†“
MESSAGE CREATED
  (Conversation started)
        â†“
CONVERSATION APPEARS
  (In Conversations Tab)
        â†“
USER CAN INTERACT
  (Reply, AI suggestions, etc.)
```

